<!-- Loading Overlay -->
<div id="loadingOverlay" class="loading-overlay">
    <div class="loader"></div>
    <p>Loading dashboard...</p>
</div>

<!-- Session Detail Modal -->
<div id="sessionModal" class="modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modalSessionTitle">Session Details</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="modal-grid">
                <div class="modal-section">
                    <h4><i class="fas fa-info-circle"></i> Basic Information</h4>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Session ID:</span>
                            <span id="modalSessionId" class="info-value"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Date:</span>
                            <span id="modalSessionDate" class="info-value"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">City:</span>
                            <span id="modalSessionCity" class="info-value"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Location:</span>
                            <span id="modalSessionLocation" class="info-value"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Facilitator:</span>
                            <span id="modalSessionFacilitator" class="info-value"></span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-chart-bar"></i> Statistics</h4>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-users"></i></div>
                            <div class="stat-content">
                                <div class="stat-number" id="modalSessionFarmers">0</div>
                                <div class="stat-label">Farmers</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-seedling"></i></div>
                            <div class="stat-content">
                                <div class="stat-number" id="modalSessionAcres">0</div>
                                <div class="stat-label">Acres</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-bullseye"></i></div>
                            <div class="stat-content">
                                <div class="stat-number" id="modalSessionFocus"></div>
                                <div class="stat-label">Focus Area</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-map-marker-alt"></i> Location Map</h4>
                    <div id="modalMap" style="height: 200px; border-radius: 8px; background: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #666;">
                        <i class="fas fa-map-marked-alt" style="font-size: 48px; opacity: 0.3;"></i>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h4><i class="fas fa-images"></i> Session Media</h4>
                    <div id="modalMediaGallery" class="modal-gallery">
                        <!-- Media will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="modalCloseBtn">Close</button>
            <button class="btn btn-primary" id="modalShareBtn">
                <i class="fas fa-share-alt"></i> Share Session
            </button>
        </div>
    </div>
</div>

<!-- Feedback Modal -->
<div id="feedbackModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
            <h3><i class="fas fa-comment-alt"></i> Share Your Feedback</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form id="feedbackForm">
                <div class="form-group">
                    <label for="feedbackName"><i class="fas fa-user"></i> Your Name</label>
                    <input type="text" id="feedbackName" class="form-control" placeholder="Enter your name" required>
                </div>
                
                <div class="form-group">
                    <label for="feedbackPhone"><i class="fas fa-phone"></i> Phone Number</label>
                    <input type="tel" id="feedbackPhone" class="form-control" placeholder="+92 300 1234567">
                </div>
                
                <div class="form-group">
                    <label for="feedbackEmail"><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="feedbackEmail" class="form-control" placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label for="feedbackType"><i class="fas fa-tag"></i> Feedback Type</label>
                    <select id="feedbackType" class="form-control">
                        <option value="general">General Feedback</option>
                        <option value="suggestion">Suggestion</option>
                        <option value="bug">Bug Report</option>
                        <option value="feature">Feature Request</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="feedbackMessage"><i class="fas fa-comment"></i> Your Message</label>
                    <textarea id="feedbackMessage" class="form-control" rows="4" placeholder="Share your thoughts, suggestions, or feedback..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="feedbackContactMethod">Preferred Contact Method</label>
                    <div class="contact-methods">
                        <label class="checkbox-label">
                            <input type="checkbox" name="contactMethod" value="whatsapp">
                            <i class="fab fa-whatsapp" style="color: #25D366;"></i> WhatsApp
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="contactMethod" value="email">
                            <i class="fas fa-envelope" style="color: #EA4335;"></i> Email
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" name="contactMethod" value="phone">
                            <i class="fas fa-phone" style="color: #34A853;"></i> Phone Call
                        </label>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline" id="feedbackCancel">Cancel</button>
            <button class="btn btn-primary" id="feedbackSubmit">
                <i class="fas fa-paper-plane"></i> Submit Feedback
            </button>
        </div>
    </div>
</div>

<!-- Share Modal -->
<div id="shareModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 400px;">
        <div class="modal-header">
            <h3><i class="fas fa-share-alt"></i> Share This Dashboard</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="share-options">
                <button class="share-option" data-platform="whatsapp">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp</span>
                </button>
                <button class="share-option" data-platform="facebook">
                    <i class="fab fa-facebook"></i>
                    <span>Facebook</span>
                </button>
                <button class="share-option" data-platform="twitter">
                    <i class="fab fa-twitter"></i>
                    <span>Twitter</span>
                </button>
                <button class="share-option" data-platform="linkedin">
                    <i class="fab fa-linkedin"></i>
                    <span>LinkedIn</span>
                </button>
                <button class="share-option" data-platform="email">
                    <i class="fas fa-envelope"></i>
                    <span>Email</span>
                </button>
                <button class="share-option" data-platform="copy">
                    <i class="fas fa-copy"></i>
                    <span>Copy Link</span>
                </button>
            </div>
            <div class="share-url">
                <input type="text" id="shareUrl" readonly value="https://interactsolutions.github.io/WheatCampaign/">
                <button class="btn-copy" id="copyUrlBtn">
                    <i class="fas fa-copy"></i>
                </button>
            <div class="footer-links">
    <a href="#" id="helpSupport"><i class="fas fa-question-circle"></i> Help & Support</a>
    <a href="#" id="exportInsights"><i class="fas fa-download"></i> Export Insights</a>
    <a href="#" onclick="window.print()"><i class="fas fa-print"></i> Print Report</a>
    <!-- The feedback and share buttons will be added dynamically by JavaScript -->
</div></div>
        </div>
    </div>
</div>

<!-- Toast Notification Container -->
<div id="toastContainer"></div>
