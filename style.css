
/* Import Inter font for a clean, professional look */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root{
  /* Palette for dark mode: soft navy backgrounds with high-contrast text.
     Variables are tuned for readability and a modern aesthetic. */
  /* Updated Bayer colour palette for the dark theme */
  --bg: #10384f;     /* Dark blue background */
  --card: #121a2e99;
  --cardSolid: #121a2e;
  --stroke: #2a3b5e;
  --text: #f0f4ff;
  --muted: #b0c4e6;
  --muted2: #8a9cc2;
  --brand: #00bcff;    /* Bright Bayer blue */
  --brand2: #89d329;   /* Bright Bayer green */
  --warn: #d9a420;     /* Golden wheat accent */
  --danger: #dc2626;
  --wheat: #f1dbb3;    /* Wheat tone for borders */
  --radius: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,0.25);
  --transition: 0.2s ease;
}

/* Light (daytime) theme overrides. When the `data-theme` attribute on the
   <html> or <body> element is set to "light", these variables replace the
   default dark values. To switch themes dynamically, set
   `document.documentElement.dataset.theme = 'light'` or 'dark'. */
/* Light (daytime) theme overrides: brighten backgrounds and increase contrast. */
[data-theme="light"]{
  /* Light theme palette reflecting Bayer colours */
  --bg: #f8fafc;
  --card: #ffffff99;
  --cardSolid: #ffffff;
  --stroke: #e2e8f0;
  --text: #10384f;  /* Dark blue text for contrast */
  --muted: #64748b;
  --muted2: #475569;
  --brand: #00bcff;
  --brand2: #89d329;
  --warn: #d9a420;
  --danger: #dc2626;
  --wheat: #f1dbb3;
  --shadow: 0 4px 16px rgba(0,0,0,0.1);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x:hidden;
  line-height:1.6;
  font-size:16px;
}

.bg{position:fixed; inset:0; z-index:-2; background:#060a12}
.bgVideo{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:saturate(1.05) contrast(1.05); opacity:.3}
/* Soften the shade overlay for a more professional look */
.bgShade{position:absolute; inset:0; background: linear-gradient(to bottom, rgba(0,0,0,0.2), transparent);}

/* Light theme variant for the background shade. Use softer gradients and a light overlay
   when the page theme is set to light. */
[data-theme="light"] .bgShade{
  background: radial-gradient(1200px 500px at 20% 10%, rgba(76,111,255,.12), transparent 50%),
    radial-gradient(900px 500px at 70% 35%, rgba(34,197,94,.08), transparent 60%),
    linear-gradient(to bottom, rgba(245,248,255,.35), rgba(245,248,255,.75) 55%, rgba(245,248,255,.85));
}

/* Header / topbar styling. Sticky for persistent navigation. */
.topbar{
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--cardSolid);
  padding: 16px 24px;
  box-shadow: var(--shadow);
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap:16px;
}
.brand{
  display:flex;
  align-items:center;
  gap:12px;
}
.brandTitle{
  font-size:1.25rem;
  font-weight:600;
}
.brandSub{
  font-size:0.875rem;
  color: var(--muted);
}
.chip.link{cursor:pointer; text-decoration:none}
.chip.link:hover{background:rgba(76,111,255,.18)}

.heroWrap{
  /* Expand hero to full width when placed inside the header. The wrapper is
     now a single-column container so the video occupies the full available
     width. Thumbnails are overlaid on top of the video instead of sitting
     alongside it. */
  max-width:100%;
  margin:0;
  padding:0 0 14px;
  display:block;
  position:relative;
}
.heroPlayer{
  position:relative;
  height: 220px;
  border-radius:18px;
  overflow:hidden;
  border:1px solid rgba(26,41,71,.65);
  background:rgba(11,18,32,.55);
  box-shadow: 0 14px 32px rgba(0,0,0,.28);
}
.heroPlayer video,.heroPlayer img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.heroPlayer img{opacity:0; transition:opacity .25s ease}
.heroPlayer.fallback img{opacity:1}
.heroOverlay{position:absolute; inset:0; background: linear-gradient(to top, rgba(7,11,20,.92), rgba(7,11,20,.25) 55%, rgba(7,11,20,.15))}
[data-theme="light"] .heroOverlay{
  background: linear-gradient(to top, rgba(245,248,255,.92), rgba(245,248,255,.25) 55%, rgba(245,248,255,.15));
}
.heroCaption{position:absolute; left:14px; right:14px; bottom:12px}
.heroTitle{font-size:18px; font-weight:900}
.heroSub{margin-top:6px; font-size:12px; color:var(--muted)}
.heroControls{position:absolute; right:12px; top:12px; display:flex; gap:8px}
.heroThumbs{
  /* Overlay the thumbnail icons on the bottom right of the hero video. Use a
     horizontal flex layout instead of a grid so the icons line up in a row. */
  position:absolute;
  right:14px;
  bottom:14px;
  display:flex;
  gap:8px;
  z-index:5;
}
.heroThumb{
  position:relative;
  /* Shrink thumbnails so they act as small icons over the video. */
  width:58px;
  height:40px;
  border-radius:12px;
  overflow:hidden;
  border:1px solid rgba(26,41,71,.65);
  background:rgba(11,18,32,.5);
  cursor:pointer;
}
.heroThumb img,.heroThumb video{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.heroThumb .badge{position:absolute; bottom:8px; left:8px; background:rgba(7,11,20,.72); border:1px solid rgba(255,255,255,.08); padding:3px 8px; border-radius:999px; font-size:10px; color:#dfe7ff}
.heroThumb.active{outline:2px solid rgba(76,111,255,.55); outline-offset:2px}

.footerBrands{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; margin-bottom:10px}
.brandPill{display:flex; gap:8px; align-items:center; padding:8px 10px; border-radius:999px; border:1px solid rgba(26,41,71,.55); background:rgba(7,11,20,.22)}
.brandPill img{width:28px; height:28px; object-fit:contain}
.brandPill span{font-size:12px; color:#dbe5ff}

.brandMark{font-weight:800; letter-spacing:.14em; font-size:12px; opacity:.9}
.brandSub{margin-top:8px; color:var(--muted); font-size:14px; max-width:560px; line-height:1.35}
.headerMedia{display:flex; gap:10px; flex-wrap:nowrap}
.headerTile{width:120px; height:64px; border:1px solid rgba(26,41,71,.65); border-radius:14px; overflow:hidden; background:rgba(11,18,32,.65); position:relative; box-shadow: 0 10px 24px rgba(0,0,0,.22)}
.headerTile video, .headerTile img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.headerTile .badge{position:absolute; bottom:6px; left:6px; background:rgba(7,11,20,.65); border:1px solid rgba(255,255,255,.08); padding:3px 6px; border-radius:999px; font-size:10px; color:#dfe7ff}

.main{max-width:1200px; margin:16px auto 60px; padding:0 16px}
.card{
  background: var(--card);
  /* Use the wheat accent colour for card borders to evoke crop themes */
  border: 1px solid var(--wheat);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px;
  margin: 16px;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}
.controls{padding:14px}
.controls{
  /* Make the filter controls responsive. Use a CSS grid that flows items onto
     multiple lines when space is constrained. Each control will occupy at
     least 200&nbsp;px and grow to fill available width. */
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap:12px;
  align-items:end;
}

/* Within the date range row, allow date inputs to shrink and wrap neatly. */
.rangeRow input[type="date"]{
  flex:1 1 140px;
  min-width:140px;
  width:auto;
}

.rangeRow span{
  margin:0 4px;
  font-size:12px;
  color:var(--muted2);
}

/* On narrow screens, stack the overview and media columns vertically in details page */
@media (max-width: 768px){
  .grid2{grid-template-columns:1fr;}
}
.controlsRow{display:grid; grid-template-columns: 1.3fr 1fr 1.2fr 1.6fr auto; gap:12px; align-items:end}
.control label{display:block; font-size:12px; color:var(--muted2); margin:0 0 6px}
.control input,.control select,.control textarea{
  width:100%;
  background:rgba(7,11,20,.55);
  border:1px solid rgba(26,41,71,.85);
  color:var(--text);
  border-radius:14px;
  padding:10px 12px;
  outline:none;
}

/* Light theme: lighten form field backgrounds and borders for better
   contrast against the light card backgrounds. Use semi-transparent
   white/blue shades inspired by the light palette. */
[data-theme="light"] .control input,
[data-theme="light"] .control select,
[data-theme="light"] .control textarea{
  background: rgba(245, 248, 255, .55);
  border-color: rgba(215, 224, 247, .85);
  color: var(--text);
}
.control textarea{resize:vertical}
.dateRange{display:flex; gap:8px; align-items:center}
.dateRange .to{color:var(--muted2); font-size:12px}
.actions{display:flex; gap:8px}
.btn{
  background:rgba(7,11,20,.35);
  border:1px solid rgba(26,41,71,.85);
  color:var(--text);
  padding:10px 12px;
  border-radius:14px;
  cursor:pointer;
  transition: transform .08s ease, background .2s ease;
  user-select:none;
}
.btn:hover{background:rgba(76,111,255,.14)}
.btn:active{transform: translateY(1px)}
.btn.primary{background:rgba(76,111,255,.22); border-color: rgba(76,111,255,.45)}
.btn.whatsapp{background:rgba(34,197,94,.18); border-color: rgba(34,197,94,.35)}
.iconBtn{background:transparent; border:1px solid rgba(26,41,71,.85); color:var(--text); width:38px; height:38px; border-radius:12px; cursor:pointer}
.iconBtn:hover{background:rgba(255,255,255,.06)}
.srOnly{position:absolute; left:-9999px}

.statusRow{margin-top:12px; display:flex; gap:10px; align-items:center; justify-content:space-between}
.chips{display:flex; gap:8px; flex-wrap:wrap}
.chip{
  font-size:12px;
  color:#dbe5ff;
  background:rgba(7,11,20,.40);
  border:1px solid rgba(26,41,71,.75);
  border-radius:999px;
  padding:6px 10px;
}
.chip.muted{color:var(--muted)}
.miniKPIs{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
.miniKpi{min-width:96px; padding:8px 10px; border:1px solid rgba(26,41,71,.55); border-radius:14px; background:rgba(7,11,20,.28)}
.miniLabel{font-size:11px; color:var(--muted2)}
.miniVal{font-size:16px; font-weight:800; margin-top:4px}

.grid2{display:grid; grid-template-columns: 1.1fr .9fr; gap:14px; margin-top:14px}
.card h2{margin:0; padding:14px 14px 6px; font-size:18px}
.card p{margin:0; padding:0 14px 12px; line-height:1.4}
.muted{color:var(--muted)}
.small{font-size:12px; color:var(--muted2)}

.donutGrid{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; padding:0 14px 14px}
.donutCard{border:1px solid rgba(26,41,71,.55); border-radius:16px; background:rgba(7,11,20,.28); padding:12px}
.donutTitle{font-size:13px; color:#dbe5ff; margin-bottom:8px}
.donutWrap{height:136px; display:flex; align-items:center; justify-content:center}
.donutMeta{margin-top:8px; font-size:12px}

/* Donut chart styles for summary */
.donutGrid{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  justify-content:space-between;
}
.donutCard{
  flex:1 1 120px;
  border:1px solid rgba(26,41,71,.55);
  border-radius:16px;
  background:rgba(7,11,20,.28);
  padding:12px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.donutTitle{
  margin-bottom:8px;
  font-size:13px;
  color:#dbe5ff;
  text-align:center;
}

/* Light theme adjustments for the mini donut cards. These cards use a dark
   translucent background by default which reduces contrast on the light
   dashboard. Override the background and border to use a semi-opaque
   white with a subtle blue border, and use the dark text colour for
   titles. */
[data-theme="light"] .donutCard{
  background: rgba(245, 248, 255, .60);
  border-color: rgba(215, 224, 247, .65);
}
[data-theme="light"] .donutTitle{
  color: var(--text);
}

/* Collapsible sections styled to resemble Excel expand/collapse controls */
details {
  margin: 10px 0;
}
details summary {
  cursor: pointer;
  font-weight: 600;
  color: var(--brand);
  padding: 4px 0;
  outline: none;
}
details[open] > summary {
  border-bottom: 1px solid var(--stroke);
  margin-bottom: 6px;
}
.donutWrap{
  position:relative;
  width:120px;
  height:120px;
}
.donut{
  width:100%;
  height:100%;
  border-radius:50%;
  background: conic-gradient(var(--color, var(--brand)) calc(var(--percent) * 1%), rgba(255,255,255,.1) 0%);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.donut::before{
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:70%;
  height:70%;
  border-radius:50%;
  background:rgba(7,11,20,1);
}
.donutValue{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:16px;
  font-weight:700;
  color:#e9f0ff;
}

/* In light mode swap donut centre colour and value colour to maintain
   contrast on the lighter cards. The central circle becomes the card
   colour and the text switches to the dark text colour. */
[data-theme="light"] .donut::before{
  background: var(--cardSolid);
}
[data-theme="light"] .donutValue{
  color: var(--text);
}

.insightsRow{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px; padding:0 14px 14px}
.insight{border:1px solid rgba(26,41,71,.55); border-radius:16px; background:rgba(7,11,20,.28); padding:12px}
.insightLabel{font-size:11px; color:var(--muted2)}
.insightVal{margin-top:6px; font-size:14px; font-weight:700}

.mapCard{overflow:hidden}
.mapHeader{padding:14px 14px 6px; display:flex; gap:10px; align-items:flex-start; justify-content:space-between}
.mapHeader h2{padding:0; margin:0}
.mapHeader p{padding:0; margin:6px 0 0}
.mapBtns{display:flex; gap:8px}
.mapWrap{position:relative; padding:0 14px 14px}
.map{height:380px; border-radius:16px; overflow:hidden; border:1px solid rgba(26,41,71,.55)}
.mapFallback{height:380px; border-radius:16px; padding:14px; border:1px dashed rgba(245,158,11,.55); background:rgba(245,158,11,.08)}
.warn{color:#ffe7b0; font-weight:700}
.hidden{display:none !important}

.drawer{
  margin:14px;
  border:1px solid rgba(26,41,71,.55);
  border-radius:16px;
  background:rgba(7,11,20,.42);
  padding:12px;
}
.drawerTop{display:flex; justify-content:space-between; gap:10px; align-items:flex-start}
.drawerTitle{font-weight:900; font-size:14px}
.drawerSub{margin-top:4px; font-size:12px}
.drawerGrid{margin-top:10px; display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px}
.kv{border:1px solid rgba(26,41,71,.50); border-radius:14px; background:rgba(7,11,20,.22); padding:10px}
.k{font-size:11px; color:var(--muted2)}
.v{margin-top:6px; font-size:13px; font-weight:700}
.drawerActions{display:flex; gap:8px; margin-top:10px}
.drawerSectionTitle{margin:12px 0 8px; font-size:13px}
.drawerMedia{display:flex; gap:8px; flex-wrap:wrap}
.thumb{width:84px; height:60px; border-radius:12px; overflow:hidden; border:1px solid rgba(26,41,71,.65); background:rgba(11,18,32,.5); position:relative; cursor:pointer}
.thumb img,.thumb video{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.thumb .type{position:absolute; bottom:6px; right:6px; font-size:10px; padding:2px 6px; border-radius:999px; background:rgba(7,11,20,.65); border:1px solid rgba(255,255,255,.1)}

.sectionHeader{padding:14px; display:flex; gap:12px; align-items:flex-start; justify-content:space-between}
.pager{display:flex; gap:8px; align-items:center}
.tableWrap{overflow:auto; border-top:1px solid rgba(26,41,71,.55)}
.table{width:100%; border-collapse:collapse; min-width:820px}
.table th,.table td{padding:10px 12px; border-bottom:1px solid rgba(26,41,71,.45); font-size:13px}
.table th{color:#dbe5ff; text-align:left; background:rgba(7,11,20,.18); position:sticky; top:0}
.table td.num{text-align:right}
.rowBtn{cursor:pointer}
.rowBtn:hover{background:rgba(255,255,255,.04)}

.mediaCounters{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
.mediaWall{padding:0 14px 14px; display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:10px}

.mwCard{
  border:1px solid rgba(26,41,71,.55);
  border-radius:16px;
  overflow:hidden;
  background:rgba(7,11,20,.22);
  position:relative;
  height:210px;
}
.mwStack{position:relative; height:140px; overflow:hidden; cursor:pointer}
.mwImg, .mwVid{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.mwAlt{mix-blend-mode:screen; filter:saturate(1.1) contrast(1.05)}
.mwVid{transition:opacity .25s ease}
.mwBadge{
  position:absolute; left:10px; top:10px;
  background:rgba(7,11,20,.72); border:1px solid rgba(255,255,255,.08);
  padding:4px 10px; border-radius:999px; font-size:11px; color:#e6eeff
}
.mwMeta{padding:10px 12px}
.mwTitle{font-weight:800}
.mwSub{margin-top:4px; color:var(--muted); font-size:12px}
.mapPopup{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; color:#0b1220}
.mpTitle{font-weight:800; margin-bottom:6px}
.mpMeta{font-weight:700; opacity:.7}
.mpRow{display:flex; gap:8px; align-items:baseline; margin-bottom:8px}
.mpRow span{font-size:12px; opacity:.75}
.mpRow strong{font-size:13px}
.popupBtn{
  width:100%;
  border:none;
  background:#0b3bff;
  color:#fff;
  font-weight:800;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
}
.popupBtn:active{transform:translateY(1px)}
.mediaCard{
  border:1px solid rgba(26,41,71,.55);
  border-radius:16px;
  overflow:hidden;
  background:rgba(7,11,20,.22);
  position:relative;
  height:180px;
}
.mediaStack{position:absolute; inset:0}
.mediaStack img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:1; transition: opacity .8s ease}
.mediaStack img.alt{opacity:0; animation: swap 6s ease-in-out infinite}
@keyframes swap{
  0%,35%{opacity:0}
  45%,80%{opacity:1}
  100%{opacity:0}
}
.mediaStack video{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition: opacity .25s ease}
.mediaCard:hover .mediaStack video{opacity:1}
.mediaOverlay{position:absolute; inset:0; background: linear-gradient(to top, rgba(7,11,20,.82), transparent 55%)}
.mediaMeta{position:absolute; left:10px; right:10px; bottom:10px; display:flex; justify-content:space-between; gap:10px; align-items:flex-end}
.mediaMeta .t{font-weight:800; font-size:12px}
.mediaMeta .s{font-size:11px; color:var(--muted)}
.mediaBtns{display:flex; gap:8px}
.mediaIcon{
  width:34px; height:34px; border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(7,11,20,.55);
  display:grid; place-items:center; cursor:pointer
}
.mediaIcon:hover{background:rgba(255,255,255,.08)}

.feedbackGrid{padding:0 14px 14px; display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px}
.feedbackGrid .full{grid-column:1/-1}
.feedbackActions{padding:0 14px 14px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:center}
.btnRow{display:flex; gap:8px; flex-wrap:wrap}

.footer{margin-top:14px; padding:14px; text-align:center; border:1px solid rgba(26,41,71,.35); border-radius: var(--radius); background: rgba(7,11,20,.22)}

.lightbox{position:fixed; inset:0; background:rgba(0,0,0,.72); display:grid; place-items:center; padding: max(14px, env(safe-area-inset-top)) 14px max(14px, env(safe-area-inset-bottom)); z-index:100}
.lightboxInner{width:min(980px, 96vw); background:rgba(11,18,32,.92); border:1px solid rgba(26,41,71,.75); border-radius:18px; overflow:hidden; box-shadow: var(--shadow); position:relative}
.lightboxClose{position:absolute; top:10px; right:10px; z-index:3}
.lightboxBody{padding:14px; min-height:420px; display:grid; place-items:center}
.lightboxBody img,.lightboxBody video{max-width:100%; max-height:70vh; border-radius:14px; border:1px solid rgba(26,41,71,.55); background:#000}
.lightboxActions{display:flex; gap:8px; justify-content:flex-end; padding:0 14px 14px}

@media (max-width: 980px){
  /* Keep the hero in a single column layout on narrow screens. The video height
     reduces slightly on medium breakpoints for better vertical fit. */
  .heroPlayer{height:200px;}
  /* Thumbnails remain positioned absolutely; sizes remain consistent. */

  .controlsRow{grid-template-columns: 1fr 1fr; }
  .actions{grid-column:1/-1}
  .grid2{grid-template-columns: 1fr}
  .mediaWall{grid-template-columns: repeat(2, minmax(0,1fr))}
  .headerMedia{display:none}
}
@media (max-width: 520px){
  /* Further reduce hero video height on small screens */
  .heroPlayer{height:190px;}

  .mediaWall{grid-template-columns: 1fr}
  .drawerGrid{grid-template-columns: 1fr}
  .feedbackGrid{grid-template-columns: 1fr}
}


/* --- Sheets viewer additions --- */
.topbar__nav{display:flex;gap:10px;align-items:center}
.chip{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.12);color:rgba(255,255,255,.86);text-decoration:none}
.chip--active{background:rgba(78,99,255,.18);border-color:rgba(78,99,255,.35)}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
@media (max-width: 860px){.grid2{grid-template-columns:1fr}}
.kv{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:14px}
.kv__row{display:grid;grid-template-columns:160px 1fr;gap:10px;padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03)}
.kv__k{color:rgba(255,255,255,.72);font-weight:700}
.kv__v{color:rgba(255,255,255,.9)}
.cardLite{padding:14px;border-radius:18px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03)}
.quote{margin-top:8px;padding:10px 12px;border-radius:14px;background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.08)}
.sig{margin-top:10px;max-width:100%;height:auto;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#fff}
.tableWrap{overflow:auto;border-radius:16px;border:1px solid rgba(255,255,255,.08)}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th,.table td{padding:10px 10px;border-bottom:1px solid rgba(255,255,255,.06);vertical-align:top}
.table--dense th,.table--dense td{padding:6px 8px;font-size:12px}
.table th{position:sticky;top:0;background:rgba(7,12,22,.9);backdrop-filter: blur(8px);z-index:2;text-align:left}
.table .sticky{position:sticky;left:0;background:rgba(7,12,22,.92);z-index:3}
.divider{height:1px;background:rgba(255,255,255,.08);margin:18px 0}
.label{display:block;margin:6px 0 8px;color:rgba(255,255,255,.78);font-weight:700}
.input{width:100%;padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.22);color:rgba(255,255,255,.92)}

/* --- Tabs & section partitioning --- */
.tabs{display:flex;gap:10px;flex-wrap:wrap;margin:14px 0 6px}
.tabBtn{appearance:none;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.18);color:rgba(255,255,255,.86);
  padding:10px 14px;border-radius:999px;font-weight:700;cursor:pointer}
.tabBtn:hover{background:rgba(255,255,255,.06)}
.tabBtn--active{background:rgba(78,99,255,.18);border-color:rgba(78,99,255,.35)}
.sectionHidden{display:none !important}

/* --- details page helpers --- */
.grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
@media (max-width: 980px){.grid3{grid-template-columns:1fr}}

/* fatal loading hint */
.fatalHint{
  margin-top:10px;
  padding:10px 12px;
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  background: rgba(255, 80, 80, .08);
  color: rgba(255,255,255,.88);
  font-size: 13px;
  line-height: 1.35;
}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}


/* Brand logos */
.brandMark{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:800;
  letter-spacing:.06em;
}
.brandMark .brandLogo{
  width:auto;
  height:34px;
  max-height:34px;
  object-fit:contain;
  filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
}
.brandMark .brandName{
  font-size:16px;
}
.brandMark .brandSub{
  font-size:12px;
  opacity:.75;
  margin-top:-2px;
}
@media (max-width:520px){
  .brandMark .brandLogo{height:28px; max-height:28px;}
  .brandMark .brandName{font-size:14px;}
}


/* Loading state (applied to #app by dashboard.js) */
.loading {
  opacity: 0.6;
  pointer-events: none;
  position: relative;
}

.loading::after {
  content: '';
  position: absolute;
  top: 24px;
  right: 24px;
  width: 24px;
  height: 24px;
  border: 3px solid rgba(76, 111, 255, 0.25);
  border-top-color: var(--brand);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


/* --- Overlay session drawer (v3) --- */
.drawerBackdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(2px);
  z-index: 60;
}
.drawerOverlay{
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: min(420px, 92vw);
  background: rgba(10,14,22,.96);
  border-left: 1px solid rgba(255,255,255,.08);
  z-index: 70;
  overflow: auto;
  transform: translateX(102%);
  transition: transform .18s ease-out;
  box-shadow: -18px 0 42px rgba(0,0,0,.45);
}
.drawerOverlay.open{
  transform: translateX(0);
}
.drawerOverlay .drawerTop{
  position: sticky;
  top: 0;
  background: rgba(10,14,22,.96);
  backdrop-filter: blur(6px);
  z-index: 2;
}
.drawerSheet{
  margin: 10px 0 16px 0;
  padding: 10px;
  border-radius: 14px;
  border: 1px dashed rgba(255,255,255,.18);
}
.drawerSheet .row{
  display:flex;
  justify-content: space-between;
  gap: 10px;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.drawerSheet .row:last-child{ border-bottom: none; }
.drawerSheet .k{ color: rgba(255,255,255,.72); }
.drawerSheet .v{ color: rgba(255,255,255,.92); text-align:right; }
.mapList{
  margin-top: 10px;
  display: grid;
  gap: 8px;
}
.mapList a{
  display:block;
  padding: 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: rgba(255,255,255,.92);
}
.mapList a:hover{ background: rgba(255,255,255,.07); }
.mediaLoadRow{
  display:flex;
  align-items:center;
  gap: 10px;
  margin: 8px 0 12px 0;
}
@media (max-width: 860px){
  .drawerOverlay{ width: 100vw; }
}


/* --- v4 regeneration fixes --- */
/* Navigation tabs */
.tabBar{
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}
.tabBtn{
  padding:8px 16px;
  border-radius: var(--radius);
  text-decoration:none;
  color: var(--muted);
  font-weight:500;
  transition: background var(--transition), color var(--transition);
}
.tabBtn:hover, .tabBtn--active{
  background: var(--brand);
  color:#fff;
}
.tableWrap{overflow:auto}
.sessionTable tbody tr{cursor:pointer}
.sessionTable tbody tr:hover{background:rgba(76,111,255,.06)}
.sessionTable th, .sessionTable td{
  /* Prevent wrapping of long values such as masked phone numbers or village names */
  white-space: nowrap;
  padding:6px 8px;
  vertical-align: top;
}

/* Simple spinner utility. Use with <span class="spinner"></span> to show a
   lightweight loading indicator when fetching data. The spinner uses the
   muted colour for the track and the brand colour for the top segment. */
.spinner{
  display:inline-block;
  width:16px;
  height:16px;
  border:2px solid var(--muted);
  border-top-color: var(--brand);
  border-radius:50%;
  animation: spin 1s linear infinite;
}

@keyframes spin{
  to{ transform: rotate(360deg); }
}

/* === Modern UI theme overrides (January 2026) ===
   These rules adjust the colour palette, typography, layout, and interactions
   to create a clean, professional look consistent across all pages. Because
   they appear at the end of the stylesheet, they override earlier values. */

/* Import Inter font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  --bg: #0a0f1c;
  --card: #121a2e99;
  --cardSolid: #121a2e;
  --stroke: #2a3b5e;
  --text: #f0f4ff;
  --muted: #b0c4e6;
  --muted2: #8a9cc2;
  --brand: #3b82f6;
  --brand2: #10b981;
  --warn: #f59e0b;
  --danger: #ef4444;
  --radius: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,0.25);
  --transition: 0.2s ease;
}

[data-theme="light"] {
  --bg: #f8fafc;
  --card: #ffffff99;
  --cardSolid: #ffffff;
  --stroke: #e2e8f0;
  --text: #0f172a;
  --muted: #64748b;
  --muted2: #475569;
  --brand: #2563eb;
  --brand2: #059669;
  --warn: #d97706;
  --danger: #dc2626;
  --shadow: 0 4px 16px rgba(0,0,0,0.1);
}

html {
  transition: background var(--transition), color var(--transition);
}

body {
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, sans-serif;
  line-height: 1.6;
  font-size: 16px;
}

/* Background adjustments */
.bgVideo {
  opacity: 0.3;
}
.bgShade {
  background: linear-gradient(to bottom, rgba(0,0,0,0.2), transparent);
}

/* Topbar styling */
.topbar {
  position: sticky;
  top: 0;
  z-index: 10;
  background: var(--cardSolid);
  padding: 16px 24px;
  box-shadow: var(--shadow);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}
.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}
.brandTitle {
  font-size: 1.25rem;
  font-weight: 600;
}
.brandSub {
  font-size: 0.875rem;
  color: var(--muted);
}
.iconBtn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.25rem;
  color: var(--text);
  transition: color var(--transition);
}
.iconBtn:hover {
  color: var(--brand);
}

/* Navigation tabs */
.tabBar {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}
.tabBtn {
  padding: 8px 16px;
  border-radius: var(--radius);
  text-decoration: none;
  color: var(--muted);
  font-weight: 500;
  transition: background var(--transition), color var(--transition);
}
.tabBtn:hover,
.tabBtn--active {
  background: var(--brand);
  color: #fff;
}

/* Card styling */
.card {
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 24px;
  margin: 16px;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

/* Tables */
.tableWrap {
  overflow-x: auto;
}
table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}
th, td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid var(--stroke);
}
th {
  background: var(--cardSolid);
  font-weight: 600;
  color: var(--text);
}
tr:nth-child(even) {
  background: rgba(255,255,255,0.05);
}
tr:hover {
  background: rgba(255,255,255,0.1);
  transition: background var(--transition);
}

/* Buttons */
.btn, .btnSmall {
  padding: 8px 16px;
  background: var(--brand);
  color: #fff;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  font-weight: 500;
  transition: background var(--transition);
}
.btn:hover {
  background: #2f66d4;
}

/* Footer */
.footer {
  text-align: center;
  padding: 24px;
  color: var(--muted);
  border-top: 1px solid var(--stroke);
}
.footerBrands {
  display: flex;
  justify-content: center;
  gap: 24px;
}
.brandPill {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: var(--card);
  border-radius: 999px;
}

/* Summary takeaways and priority classes */
.summaryTakeaways {
  margin-top: 16px;
  padding: 16px;
  border-left: 4px solid var(--brand);
  background: rgba(59,130,246,0.05);
  border-radius: var(--radius);
  font-size: 0.875rem;
}
.priority-high { background: rgba(239,68,68,0.08); }
.priority-medium { background: rgba(245,158,11,0.08); }
.priority-low { background: rgba(34,197,94,0.08); }
[data-theme="light"] .priority-high { background: rgba(239,68,68,0.12); }
[data-theme="light"] .priority-medium { background: rgba(245,158,11,0.12); }
[data-theme="light"] .priority-low { background: rgba(34,197,94,0.12); }

@media (max-width: 768px) {
  .topbar {
    flex-direction: column;
    align-items: flex-start;
  }
  .tabBar {
    margin-top: 12px;
    flex-wrap: wrap;
  }
  .controls {
    flex-direction: column;
  }
  .card {
    padding: 16px;
    margin: 8px;
  }
  .kpis {
    flex-direction: column;
  }
  table {
    font-size: 0.75rem;
  }
}
.badge{display:inline-flex; align-items:center; gap:6px; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04)}
.badge--ok{border-color:rgba(34,197,94,.4)}
.badge--warn{border-color:rgba(245,158,11,.5)}
.drawerActions{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
.lightbox{position:fixed; inset:0; background:rgba(0,0,0,.78); display:none; align-items:center; justify-content:center; padding:24px; z-index:9999}
.lightbox.open{display:flex}
.lightboxInner{width:min(1100px, 100%); max-height:90vh; border-radius:16px; overflow:hidden; background:rgba(10,16,30,.96); border:1px solid rgba(255,255,255,.14)}
.lightboxTop{display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.08)}
.lightboxBody{padding:12px; display:grid; gap:10px}
.lightboxMedia{width:100%; max-height:72vh; object-fit:contain; border-radius:12px; background:rgba(255,255,255,.04)}
.smallMuted{font-size:12px; opacity:.75}


/* v4 UI primitives */
.rangeRow{
  display:flex;
  align-items:center;
  gap:10px;
  /* Keep the entire date range and action controls on a single line.
     If the viewport is too narrow, horizontal scrolling may occur; the
     responsive grid for .controls will handle wrapping at the control level. */
  flex-wrap:nowrap;
}
.btnSmall{padding:8px 10px; font-size:12px; border-radius:10px}
.btnGhost{background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.12)}
.btnGhost:hover{background:rgba(255,255,255,.07)}
.tabBtn--active{border-color:rgba(76,111,255,.6); background:rgba(76,111,255,.12)}
.mediaToolbar{display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; margin:8px 0 14px}
.mediaSeg{display:flex; gap:6px; padding:6px; border:1px solid rgba(255,255,255,.12); border-radius:14px; background:rgba(255,255,255,.03)}
.segBtn{border:1px solid transparent; background:transparent; color:var(--text); padding:8px 10px; border-radius:10px; font-size:12px; cursor:pointer}
.segBtn:hover{background:rgba(255,255,255,.06)}
.segBtn--active{border-color:rgba(0,188,255,.55); background:rgba(0,188,255,.14)}
.mediaSearch input{min-width:260px}
.mediaSort select{min-width:160px}

/* Masonry-style media grid for better visual density */
.mediaGrid{
  column-gap:14px;
  column-count:3;
}
@media (max-width: 1100px){.mediaGrid{column-count:2}}
@media (max-width: 640px){.mediaGrid{column-count:1}}

.mediaCard{
  display:flex;
  flex-direction:column;
  gap:10px;
  border:1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:12px;
  background:rgba(255,255,255,.03);
  break-inside:avoid;
  margin:0 0 14px;
  position:relative;
  overflow:hidden;
}
.mediaCard:hover{box-shadow:0 12px 30px rgba(0,0,0,.25)}

.mediaThumb{aspect-ratio: 16/9; border-radius:14px; overflow:hidden; background:rgba(255,255,255,.04); display:flex; align-items:center; justify-content:center; position:relative}
.mediaThumb::after{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%);
  pointer-events:none;
}
.mediaBadge{
  position:absolute;
  top:10px;
  left:10px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  font-size:11px;
  font-weight:600;
  background:rgba(16,56,79,.72);
  border:1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(8px);
}
.mediaBadge svg{width:14px; height:14px}
.mediaTitle{line-height:1.25}
.mediaFooter{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:10px}
.mediaThumb img, .mediaThumb video{width:100%; height:100%; object-fit:cover}
.mediaMeta{display:flex; flex-direction:column; gap:8px}
.mediaTitle{font-weight:600}
.mediaActions{display:flex; gap:8px; flex-wrap:wrap}
.mapHeader{display:flex; align-items:flex-start; justify-content:space-between; gap:16px}
.kpis--compact{grid-template-columns:repeat(3, 1fr)}
.thumb{width:88px; height:88px; object-fit:cover; border-radius:12px; border:1px solid rgba(255,255,255,.10); background:rgba(255,255,255,.03)}
.thumbVideo{position:relative}
.mediaRow{display:flex; gap:10px; flex-wrap:wrap}

/* Light theme refinements for the media tab */
[data-theme="light"] .mediaSeg{background:rgba(255,255,255,.70); border-color:rgba(16,56,79,.18)}
[data-theme="light"] .segBtn:hover{background:rgba(16,56,79,.06)}
[data-theme="light"] .mediaCard{background:rgba(255,255,255,.75); border-color:rgba(16,56,79,.14)}
[data-theme="light"] .mediaCard:hover{box-shadow:0 12px 30px rgba(16,56,79,.12)}
[data-theme="light"] .mediaBadge{background:rgba(255,255,255,.70); border-color:rgba(16,56,79,.20)}

/* KPI dot icons
   Each KPI tile is assigned a class (e.g. kpi--sessions) in the markup. The
   following rules insert a small colored circle before the KPI label using
   the ::before pseudo-element. This avoids the need for external icon assets
   while still adding visual differentiation between metrics. Colors were
   chosen for contrast on both dark and light themes. */
.kpiLabel{
  display:flex;
  align-items:center;
  gap:6px;
}
.kpiLabel::before{
  content:'';
  display:inline-block;
  width:10px;
  height:10px;
  border-radius:50%;
}
.kpi--sessions .kpiLabel::before { background:#4c6fff; }
.kpi--farmers .kpiLabel::before { background:#22c55e; }
.kpi--acres .kpiLabel::before { background:#f59e0b; }
.kpi--estacres .kpiLabel::before { background:#eab308; }
.kpi--awareness .kpiLabel::before { background:#8e44ad; }
.kpi--definite .kpiLabel::before { background:#f97316; }
.kpi--used .kpiLabel::before { background:#3b82f6; }
.kpi--score .kpiLabel::before { background:#10b981; }

/* Attendance donut chart container
   Centers the donut canvas and limits its width for responsiveness. */
.attendanceWrap{
  display:flex;
  justify-content:center;
  align-items:center;
  padding:16px 0;
}
.attendanceWrap canvas{
  max-width:420px;
  width:100%;
  height:auto;
}

/* Hero thumbnails custom sizing
   Override earlier definitions so thumbnails overlay the video in a single row.
   Use !important to ensure these styles trump the grid-based rules defined
   elsewhere in the stylesheet. */
.heroThumbs{
  position:absolute !important;
  right:14px !important;
  bottom:14px !important;
  display:flex !important;
  flex-direction:row !important;
  gap:8px !important;
  z-index:5 !important;
}
.heroThumb{
  width:58px !important;
  height:40px !important;
  border-radius:12px !important;
}
.heroThumb .badge{
  font-size:9px !important;
  bottom:4px !important;
  left:4px !important;
}

/* Media thumbnail improvements
   Add subtle background and border to media thumbnails for improved
   visual appeal. Increase border radius slightly and adjust colors
   for light/dark modes. */
.mediaThumb{
  position:relative;
  border-radius:14px;
  overflow:hidden;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.08);
}
[data-theme="light"] .mediaThumb{
  background:rgba(0,0,0,.03);
  border:1px solid rgba(0,0,0,.06);
}
.iconBtn{border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05); color:inherit; border-radius:12px; padding:8px 10px; cursor:pointer}
.iconBtn:hover{background:rgba(255,255,255,.08)}
.status{padding:12px; border-radius:14px; border:1px solid rgba(255,255,255,.10); background:rgba(255,255,255,.03)}
.status--ok{border-color:rgba(34,197,94,.4)}
.status--bad{border-color:rgba(239,68,68,.4)}
/* Result-oriented reporting extensions */
.kpis{display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:10px; margin-top:12px}
@media (max-width: 900px){.kpis{grid-template-columns:repeat(2, minmax(0,1fr))}}
.kpi{padding:12px; border-radius:14px; border:1px solid rgba(255,255,255,.10); background:rgba(255,255,255,.03)}
.kpiLabel{font-size:12px; color:rgba(255,255,255,.70)}
.kpiVal{font-size:22px; font-weight:700; letter-spacing:.2px; margin-top:2px}
.kpis--compact{grid-template-columns:repeat(3, minmax(0,1fr))}

.funnel{display:flex; flex-direction:column; gap:10px}
.barRow{display:flex; align-items:center; gap:12px}
.barLabel{flex:0 0 150px; font-size:13px; color:rgba(255,255,255,.78)}
.barTrack{flex:1; height:10px; border-radius:999px; background:rgba(255,255,255,.08); overflow:hidden}
.barFill{height:100%}
.barVal{flex:0 0 90px; text-align:right; font-variant-numeric:tabular-nums; color:rgba(255,255,255,.92)}

/* Chart container for drivers and barriers. When rendering bar charts for the
   top adoption drivers and top barriers, this container stacks bar rows
   vertically with spacing and padding consistent with cards. */
.barChart{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:0 14px 14px;
}

/*
 * Light theme overrides for the bar charts. In day mode the default dark
 * colours used for the bar labels and value text are too low contrast on
 * white cards. Override these colours and the track fill to use darker
 * hues that match the light palette. Also lighten the bar track so the
 * coloured bar segments stand out clearly.
 */
[data-theme="light"] .barLabel,
[data-theme="light"] .barVal{
  color: var(--text);
}
[data-theme="light"] .barTrack{
  background: rgba(13, 29, 52, .10);
}

.bullets{margin:0; padding-left:18px}
.bullets li{margin:6px 0; color:rgba(255,255,255,.86)}
.bullets .muted{color:rgba(255,255,255,.65)}
.card--flat{border:0; background:transparent; padding:0}
.status{white-space:pre-line}

/* --- v5 topbar (dashboard header) --- */
.topbar{
  position: sticky;
  top: 0;
  z-index: 40;
  padding: max(14px, env(safe-area-inset-top)) 16px 14px;
  backdrop-filter: blur(10px);
  background: rgba(7,11,20,.45);
  border-bottom: 1px solid rgba(26,41,71,.55);
  /* Stack header elements vertically to accommodate the hero slider. The brand,
     heroWrap and controls will appear in order from top to bottom. */
  display:flex;
  flex-direction:column;
  align-items:stretch;
  gap:16px;
}
.topbar .controls{
  padding:0;
  display:flex;
  flex-direction:column;
  gap:12px;
  /* Lay out controls using a responsive grid. Each field will occupy at least 260px
     and will wrap as space allows, making the header more compact. */
  width:100%;
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:12px;
  align-items:end;
  max-width:100%;
}
.brand{display:flex; align-items:center; gap:12px}
.brandLogo{width:auto; height:36px; max-height:36px; object-fit:contain; filter: drop-shadow(0 10px 26px rgba(0,0,0,.28))}
.brandTitle{font-size:18px; font-weight:900; letter-spacing:.2px}
.brandSub{font-size:12px; color:var(--muted); margin-top:2px}

/* Highlight the active sheet link in the raw sheet viewer list. The link for the
   currently selected sheet is displayed in the brand colour and bolded to
   provide visual feedback about the active selection. */
#sheetList .active{
  font-weight:600;
  color:var(--brand);
  text-decoration:underline;
}
@media (max-width: 980px){
  .topbar{flex-direction:column; align-items:stretch}
  /* In narrow viewports, keep the control grid responsive; no special width override needed */
  .topbar .controls{width:100%}
}

/* ------------------------------------------------------------------ */
/* Additional styles for dashboard enhancements (district & score filters,
   summary takeaways callout, priority row colouring). These styles are
   appended at the end of the stylesheet to override any earlier rules
   where necessary.                                                  */

/* Layout for headerRow: groups the brand and navigation tabs on a single line. When
   the window is narrow, elements wrap gracefully but remain horizontally
   aligned. */
.headerRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:16px;
}
.headerRow .tabBar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-left:auto;
}

/* Score range row used within the controls area. Mirrors the existing
   rangeRow styling but for numeric inputs. */
.scoreRangeRow{
  display:flex;
  gap:8px;
  align-items:center;
}
.scoreRangeRow input[type="number"]{
  flex:1 1 80px;
  min-width:80px;
  width:auto;
}
.scoreRangeRow span{
  margin:0 4px;
  font-size:12px;
  color:var(--muted2);
}

/* Takeaways callout. This lightly shaded box highlights actionable
   insights for managers, such as priority districts. */
.summaryTakeaways{
  margin-top:8px;
  padding:10px 12px;
  border-left:4px solid var(--brand);
  background:rgba(76,111,255,.05);
  color:var(--text);
  font-size:14px;
  border-radius:12px;
}
[data-theme="light"] .summaryTakeaways{
  background:rgba(76,111,255,.08);
}

/* Priority row colouring: tint the rows in the "Where to focus next" table
   according to urgency. Low definite intent and low scores trigger
   red/orange backgrounds. Light theme overrides adjust the tint. */
.priority-high{
  background:rgba(239,68,68,.12);
}
.priority-medium{
  background:rgba(245,158,11,.12);
}
.priority-low{
  background:rgba(34,197,94,.12);
}
[data-theme="light"] .priority-high{
  background:rgba(211,47,47,.16);
}
[data-theme="light"] .priority-medium{
  background:rgba(197,106,0,.16);
}
[data-theme="light"] .priority-low{
  background:rgba(24,163,78,.16);
}
