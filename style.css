:root{
  --bg:#0b1f12;
  --card: rgba(255,255,255,.92);
  --card2: rgba(255,255,255,.86);
  --text:#0e1a12;
  --muted:#55635a;
  --line: rgba(0,0,0,.08);
  --brand:#2e7d32;
  --brand2:#1b5e20;
  --warn:#ff9800;
  --danger:#d32f2f;
  --radius:16px;
  --shadow: 0 10px 26px rgba(0,0,0,.18);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--text);
  background: var(--bg);
}

.bg{position:fixed; inset:0; z-index:-2; overflow:hidden;}
.bg__video{width:100%; height:100%; object-fit:cover; filter:brightness(.45) saturate(1.05);}
.bg__overlay{position:absolute; inset:0; background: radial-gradient(1200px 700px at 20% 15%, rgba(46,125,50,.40), rgba(0,0,0,.65)); z-index:1;}
/* fallback background if video can't play */
.bg--noVideo .bg__overlay{background: radial-gradient(1100px 700px at 20% 15%, rgba(46,125,50,.35), rgba(0,0,0,.75));}

.topbar{
  position:sticky; top:0; z-index:50;
  background: rgba(12,22,14,.78);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.08);
  padding: env(safe-area-inset-top) 0 0 0;
}
.topbar__inner{
  max-width:1200px;
  margin:0 auto;
  padding:14px 16px 14px 16px;
  display:flex;
  gap:14px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
.brand{display:flex; gap:12px; align-items:center;}
.brand__badge{
  background: linear-gradient(135deg, var(--brand), var(--brand2));
  color:#fff;
  font-weight:800;
  padding:10px 12px;
  border-radius:999px;
  letter-spacing:.6px;
  box-shadow: 0 8px 18px rgba(0,0,0,.28);
}
.brand__title{color:#fff; font-weight:800; font-size:1.05rem;}
.brand__subtitle{color:rgba(255,255,255,.78); font-size:.92rem; margin-top:2px;}

.topbar__controls{display:flex; gap:10px; align-items:flex-end; flex-wrap:wrap;}
.select{display:flex; flex-direction:column; gap:6px;}
.select__label{color:rgba(255,255,255,.80); font-size:.85rem; display:flex; align-items:center; gap:8px;}
select, input[type="text"], input[type="date"]{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.96);
  color:var(--text);
  outline:none;
}
select:focus, input:focus{border-color: rgba(46,125,50,.45); box-shadow:0 0 0 3px rgba(46,125,50,.12);}

.btn{
  border: 1px solid rgba(255,255,255,.18);
  background: linear-gradient(135deg, var(--brand), var(--brand2));
  color:#fff;
  padding:10px 12px;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
  display:inline-flex;
  gap:8px;
  align-items:center;
  box-shadow: 0 10px 20px rgba(0,0,0,.22);
}
.btn:active{transform:translateY(1px)}
.btn--ghost{
  background: rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.18);
  box-shadow:none;
}

.wrap{max-width:1200px; margin:0 auto; padding:18px 16px calc(18px + env(safe-area-inset-bottom)) 16px;}
.card{
  background: var(--card);
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:16px;
}
.card--hero{padding:18px}
.card__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:12px;
}
.card__head h2{margin:0; font-size:1.05rem; color:var(--brand2); display:flex; gap:10px; align-items:center;}
.card__foot{margin-top:10px}

.muted{color:var(--muted)}
.pill{
  background: rgba(46,125,50,.10);
  color: var(--brand2);
  border:1px solid rgba(46,125,50,.16);
  padding:6px 10px;
  border-radius:999px;
  font-weight:700;
  font-size:.88rem;
}

.hero{display:grid; gap:16px; grid-template-columns: 1.2fr .8fr;}
.hero__kpis{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; margin-top:12px;}
.kpi{
  background: rgba(255,255,255,.88);
  border:1px solid var(--line);
  border-radius: 14px;
  padding:12px;
}
.kpi__label{color:var(--muted); font-weight:700; font-size:.88rem;}
.kpi__value{font-size:1.55rem; font-weight:900; color:var(--brand2); margin-top:4px;}
.kpi__sub{color:var(--muted); font-size:.82rem; margin-top:4px;}

.filters{
  background: rgba(255,255,255,.84);
  border:1px solid var(--line);
  border-radius: 14px;
  padding:12px;
}
.field{display:flex; flex-direction:column; gap:6px; margin-bottom:10px;}
.field label{font-weight:800; color:var(--brand2); font-size:.90rem; display:flex; align-items:center; gap:8px;}
.field--row{display:grid; grid-template-columns: 1fr 1fr; gap:10px;}
.filters__actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:6px;}
.note{
  margin-top:10px;
  padding:10px;
  border-radius: 12px;
  background: rgba(46,125,50,.08);
  border:1px dashed rgba(46,125,50,.25);
}
.note__title{font-weight:900; color:var(--brand2); font-size:.92rem;}
.note__body{color:var(--muted); font-size:.88rem; margin-top:6px;}

.status{
  margin-top:12px;
  padding:10px 12px;
  border-radius: 12px;
  display:none;
  background: rgba(255,255,255,.72);
  border:1px solid var(--line);
}
.status--show{display:block}
.status--error{border-color: rgba(211,47,47,.35); background: rgba(211,47,47,.08); color: var(--danger);}
.status--ok{border-color: rgba(46,125,50,.28); background: rgba(46,125,50,.06); color: var(--brand2);}

.grid{display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:16px;}
.map{height:420px; border-radius: 14px; border:1px solid var(--line); overflow:hidden;}

.gallery__filters{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px;}
.chip{
  background: rgba(255,255,255,.78);
  border:1px solid var(--line);
  border-radius:999px;
  padding:8px 12px;
  font-weight:800;
  cursor:pointer;
}
.chip--active{background: rgba(46,125,50,.14); border-color: rgba(46,125,50,.22); color: var(--brand2);}

.gallery{display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:10px;}
.media{
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  transition: transform .18s ease, box-shadow .18s ease;
}
.media:hover{transform: translateY(-2px); box-shadow: 0 14px 26px rgba(0,0,0,.18);}
.media__thumb{width:100%; height:160px; object-fit:cover; display:block; background: #f2f5f3;}
.media__meta{padding:10px;}
.media__title{font-weight:900; font-size:.95rem; margin:0 0 6px 0;}
.media__sub{margin:0; color:var(--muted); font-size:.82rem;}
.badge{
  display:inline-flex; align-items:center; gap:6px;
  font-size:.76rem; font-weight:900;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid var(--line);
  background: rgba(0,0,0,.03);
  margin-bottom:8px;
}

.tableWrap{overflow:auto; border-radius: 14px; border:1px solid var(--line);}
.table{width:100%; border-collapse:collapse; background:#fff; min-width: 780px;}
.table th{
  text-align:left;
  padding:12px;
  background: linear-gradient(135deg, var(--brand), var(--brand2));
  color:#fff;
  position: sticky; top:0;
}
.table td{padding:10px 12px; border-top:1px solid var(--line); vertical-align:top;}
.table tbody tr:hover{background: rgba(46,125,50,.05); cursor:pointer;}
.scorePill{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:56px;
  padding:6px 10px;
  border-radius:999px;
  font-weight:900;
  border:1px solid var(--line);
}
.scorePill--high{background: rgba(46,125,50,.12); color: var(--brand2); border-color: rgba(46,125,50,.22);}
.scorePill--mid{background: rgba(255,152,0,.14); color:#9a5b00; border-color: rgba(255,152,0,.22);}
.scorePill--low{background: rgba(211,47,47,.10); color: var(--danger); border-color: rgba(211,47,47,.20);}

.cards{display:none; margin-top:12px; gap:10px;}
.cardRow{
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  display:grid;
  gap:8px;
}
.cardRow__top{display:flex; justify-content:space-between; gap:12px; align-items:center;}
.cardRow__title{font-weight:900;}
.cardRow__meta{color:var(--muted); font-size:.86rem;}
.kv{display:grid; grid-template-columns: 1fr 1fr; gap:8px;}
.kv div{background: rgba(0,0,0,.03); border:1px solid var(--line); border-radius:12px; padding:8px;}
.kv .k{color:var(--muted); font-size:.78rem; font-weight:800;}
.kv .v{font-weight:900; margin-top:4px;}

.insights{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px;}
.insight{
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
}
.insight__title{margin:0 0 6px 0; font-weight:900; color:var(--brand2);}
.insight__body{margin:0; color:var(--muted); font-size:.92rem;}

.footer{margin:18px 0 6px 0; text-align:center; color:rgba(255,255,255,.75);}

.skeleton{
  padding:16px;
  color:var(--muted);
  background: rgba(0,0,0,.03);
  border:1px dashed var(--line);
  border-radius:14px;
}

/* Modal */
.modal{position:fixed; inset:0; display:none; z-index:80;}
.modal--open{display:block;}
.modal__backdrop{position:absolute; inset:0; background: rgba(0,0,0,.55);}
.modal__panel{
  position:relative;
  width:min(980px, calc(100% - 22px));
  margin: 22px auto;
  background: var(--card);
  border:1px solid rgba(255,255,255,.22);
  border-radius: 18px;
  box-shadow: 0 22px 50px rgba(0,0,0,.35);
  overflow:hidden;
}
.modal__close{
  position:absolute; top:10px; right:12px;
  background: rgba(0,0,0,.08);
  border:1px solid var(--line);
  border-radius: 12px;
  width:40px; height:40px;
  cursor:pointer;
  font-size: 26px;
}
.modal__content{padding:16px; padding-top:56px;}

/* Responsive */
@media (max-width: 980px){
  .hero{grid-template-columns: 1fr;}
  .grid{grid-template-columns: 1fr;}
  .gallery{grid-template-columns: repeat(2, minmax(0,1fr));}
  .insights{grid-template-columns: 1fr;}
}
@media (max-width: 760px){
  .hero__kpis{grid-template-columns: 1fr 1fr;}
  .tableWrap{display:none;}
  .cards{display:grid;}
  .gallery{grid-template-columns: 1fr;}
  .map{height:340px;}
  .field--row{grid-template-columns: 1fr;}
}
@media (prefers-reduced-motion: reduce){
  .bg__video{display:none;}
  .media:hover{transform:none;}
  .btn:active{transform:none;}
}
